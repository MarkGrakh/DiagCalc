<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞–∑–º–µ—Ä–æ–≤ —ç–∫—Ä–∞–Ω–∞</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            width: 100%;
            max-width: 800px;
            position: relative;
        }
        
        .mode-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            background: #f5f5f5;
            border-radius: 50px;
            padding: 5px;
            gap: 5px;
        }
        
        .mode-btn {
            padding: 8px 20px;
            border: none;
            border-radius: 50px;
            background: transparent;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .mode-btn.active {
            background: #667eea;
            color: white;
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
            font-weight: 600;
        }
        
        /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤ */
        .input-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
        }
        
        input[type="number"] {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 18px;
            transition: border-color 0.3s;
        }
        
        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .calculate-btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 10px;
        }
        
        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Ä–µ–∂–∏–º–∞ */
        .simple-mode {
            display: block;
        }
        
        .simple-result-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-top: 30px;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ */
        .pro-mode {
            display: none;
        }
        
        .pro-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .pro-left, .pro-right {
            display: flex;
            flex-direction: column;
        }
        
        .aspect-ratio-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 15px 0;
        }
        
        .ratio-option {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .ratio-option:hover {
            border-color: #667eea;
        }
        
        .ratio-option.active {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }
        
        .slider-container {
            margin: 20px 0;
        }
        
        input[type="range"] {
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            background: linear-gradient(to right, #667eea, #764ba2);
            border-radius: 4px;
            outline: none;
            margin: 10px 0;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            background: white;
            border: 3px solid #667eea;
            border-radius: 50%;
            cursor: pointer;
        }
        
        .preset-sizes {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .preset-btn {
            padding: 12px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .preset-btn:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }
        
        .pro-results-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        
        .result-box {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 1px solid #e9ecef;
        }
        
        .result-label {
            font-size: 14px;
            color: #6c757d;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .result-value {
            font-size: 28px;
            font-weight: 700;
            color: #333;
        }
        
        .result-unit {
            font-size: 16px;
            color: #6c757d;
            margin-left: 4px;
        }
        
        .screen-visualization {
            flex: 1;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
            border: 2px solid #e9ecef;
        }
        
        .screen-box {
            background: #1a1a1a;
            border-radius: 8px;
            position: relative;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }
        
        .history-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
        }
        
        .history-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            color: #6c757d;
            font-size: 14px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 25px;
            }
            
            .pro-container {
                grid-template-columns: 1fr;
            }
            
            .simple-result-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .pro-results-grid {
                grid-template-columns: 1fr;
            }
            
            .aspect-ratio-selector {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .preset-sizes {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="mode-toggle">
            <button class="mode-btn active" id="simpleModeBtn">–ü—Ä–æ—Å—Ç–æ–π</button>
            <button class="mode-btn" id="proModeBtn">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π</button>
        </div>
        <h1><br></h1>
        <h1>üìè –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞–∑–º–µ—Ä–æ–≤ —ç–∫—Ä–∞–Ω–∞</h1>
        
        <!-- –ü–†–û–°–¢–û–ô –†–ï–ñ–ò–ú -->
        <div class="simple-mode" id="simpleMode">
            <div class="input-group">
                <label for="simpleDiagonal">–î–∏–∞–≥–æ–Ω–∞–ª—å —ç–∫—Ä–∞–Ω–∞ (–¥—é–π–º—ã):</label>
                <input 
                    type="number" 
                    id="simpleDiagonal" 
                    min="1" 
                    max="200" 
                    step="0.1" 
                    value="75" 
                    placeholder="–í–≤–µ–¥–∏—Ç–µ –¥–∏–∞–≥–æ–Ω–∞–ª—å –≤ –¥—é–π–º–∞—Ö"
                >
            </div>
            
            <button class="calculate-btn" id="simpleCalculateBtn">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ä–∞–∑–º–µ—Ä—ã</button>
            
            <div class="simple-result-container">
                <div class="result-box">
                    <div class="result-label">–®–∏—Ä–∏–Ω–∞ —ç–∫—Ä–∞–Ω–∞</div>
                    <div class="result-value">
                        <span id="simpleWidthValue">166</span>
                        <span class="result-unit">—Å–º</span>
                    </div>
                </div>
                
                <div class="result-box">
                    <div class="result-label">–í—ã—Å–æ—Ç–∞ —ç–∫—Ä–∞–Ω–∞</div>
                    <div class="result-value">
                        <span id="simpleHeightValue">93</span>
                        <span class="result-unit">—Å–º</span>
                    </div>
                </div>
            </div>
            
            <div class="footer">
                <p>–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω: 16:9 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –¥–ª—è —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤ –∏ –º–æ–Ω–∏—Ç–æ—Ä–æ–≤)</p>
            </div>
        </div>
        
        <!-- –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ô –†–ï–ñ–ò–ú -->
        <div class="pro-mode" id="proMode">
            <div class="pro-container">
                <div class="pro-left">
                    <div class="input-group">
                        <label>–î–∏–∞–≥–æ–Ω–∞–ª—å —ç–∫—Ä–∞–Ω–∞:</label>
                        <input 
                            type="number" 
                            id="proDiagonal" 
                            min="1" 
                            max="200" 
                            step="0.1" 
                            value="75" 
                            placeholder="–î—é–π–º—ã"
                        >
                        
                        <div class="slider-container">
                            <input type="range" id="diagonalSlider" min="15" max="150" value="75" step="0.5">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω:</label>
                        <div class="aspect-ratio-selector">
                            <div class="ratio-option active" data-ratio="16:9">
                                16:9
                                <div style="font-size: 12px; color: inherit; opacity: 0.8;">TV/–ú–æ–Ω–∏—Ç–æ—Ä—ã</div>
                            </div>
                            <div class="ratio-option" data-ratio="16:10">
                                16:10
                                <div style="font-size: 12px; color: inherit; opacity: 0.8;">–ù–æ—É—Ç–±—É–∫–∏</div>
                            </div>
                            <div class="ratio-option" data-ratio="21:9">
                                21:9
                                <div style="font-size: 12px; color: inherit; opacity: 0.8;">–£–ª—å—Ç—Ä–∞—à–∏—Ä–æ–∫–∏–π</div>
                            </div>
                            <div class="ratio-option" data-ratio="4:3">
                                4:3
                                <div style="font-size: 12px; color: inherit; opacity: 0.8;">–°—Ç–∞—Ä—ã–µ –¢–í</div>
                            </div>
                            <div class="ratio-option" data-ratio="1:1">
                                1:1
                                <div style="font-size: 12px; color: inherit; opacity: 0.8;">–ö–≤–∞–¥—Ä–∞—Ç</div>
                            </div>
                            <div class="ratio-option" data-ratio="custom">
                                –°–≤–æ—ë
                                <div style="font-size: 12px; color: inherit; opacity: 0.8;">–ù–∞—Å—Ç—Ä–æ–∏—Ç—å</div>
                            </div>
                        </div>
                        
                        <div id="customRatioInput" style="display: none; margin-top: 15px;">
                            <div style="display: flex; gap: 10px; align-items: center;">
                                <input type="number" id="customWidth" placeholder="–®–∏—Ä–∏–Ω–∞" style="flex: 1;" value="16">
                                <span>:</span>
                                <input type="number" id="customHeight" placeholder="–í—ã—Å–æ—Ç–∞" style="flex: 1;" value="9">
                            </div>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã:</label>
                        <div class="preset-sizes">
                            <div class="preset-btn" data-size="32">32"</div>
                            <div class="preset-btn" data-size="43">43"</div>
                            <div class="preset-btn" data-size="55">55"</div>
                            <div class="preset-btn" data-size="65">65"</div>
                            <div class="preset-btn" data-size="75">75"</div>
                            <div class="preset-btn" data-size="85">85"</div>
                        </div>
                    </div>
                    
                    <button class="calculate-btn" id="proCalculateBtn">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                </div>
                
                <div class="pro-right">
                    <div class="pro-results-grid">
                        <div class="result-box">
                            <div class="result-label">–®–∏—Ä–∏–Ω–∞</div>
                            <div class="result-value">
                                <span id="proWidthValue">166</span>
                                <span class="result-unit">—Å–º</span>
                            </div>
                        </div>
                        
                        <div class="result-box">
                            <div class="result-label">–í—ã—Å–æ—Ç–∞</div>
                            <div class="result-value">
                                <span id="proHeightValue">93</span>
                                <span class="result-unit">—Å–º</span>
                            </div>
                        </div>
                        
                        <div class="result-box">
                            <div class="result-label">–ü–ª–æ—â–∞–¥—å</div>
                            <div class="result-value">
                                <span id="proAreaValue">15438</span>
                                <span class="result-unit">—Å–º¬≤</span>
                            </div>
                        </div>
                        
                        <div class="result-box">
                            <div class="result-label">–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ</div>
                            <div class="result-value">
                                <span id="proRatioValue">1.78</span>
                                <span class="result-unit">:1</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="screen-visualization">
                        <div class="screen-box" id="screenBox" style="width: 250px; height: 141px;">
                            <div style="font-size: 14px; opacity: 0.8;">–≠–∫—Ä–∞–Ω <span id="screenSize">75"</span></div>
                        </div>
                        <div style="margin-top: 10px; font-size: 14px; color: #666;">
                            <span id="screenDimensions">166 √ó 93 —Å–º</span>
                        </div>
                    </div>
                    
                    <div class="history-section">
                        <div style="font-weight: 500; margin-bottom: 10px;">–ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—á—ë—Ç–æ–≤:</div>
                        <div id="historyList">
                            <div class="history-item">
                                <div>75" (16:9)</div>
                                <div>166 √ó 93 —Å–º</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="footer">
                <p>–†–∞—Å—á—ë—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∞ –¥—é–π–º–æ–≤ –≤ —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä—ã (1 –¥—é–π–º = 2.54 —Å–º)</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –≠–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–æ–≤
            const simpleModeBtn = document.getElementById('simpleModeBtn');
            const proModeBtn = document.getElementById('proModeBtn');
            const simpleMode = document.getElementById('simpleMode');
            const proMode = document.getElementById('proMode');
            
            // –ü–†–û–°–¢–û–ô –†–ï–ñ–ò–ú —ç–ª–µ–º–µ–Ω—Ç—ã
            const simpleDiagonal = document.getElementById('simpleDiagonal');
            const simpleCalculateBtn = document.getElementById('simpleCalculateBtn');
            const simpleWidthValue = document.getElementById('simpleWidthValue');
            const simpleHeightValue = document.getElementById('simpleHeightValue');
            
            // –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ô –†–ï–ñ–ò–ú —ç–ª–µ–º–µ–Ω—Ç—ã
            const proDiagonal = document.getElementById('proDiagonal');
            const diagonalSlider = document.getElementById('diagonalSlider');
            const proCalculateBtn = document.getElementById('proCalculateBtn');
            const proWidthValue = document.getElementById('proWidthValue');
            const proHeightValue = document.getElementById('proHeightValue');
            const proAreaValue = document.getElementById('proAreaValue');
            const proRatioValue = document.getElementById('proRatioValue');
            const screenBox = document.getElementById('screenBox');
            const screenSize = document.getElementById('screenSize');
            const screenDimensions = document.getElementById('screenDimensions');
            const ratioOptions = document.querySelectorAll('.ratio-option');
            const customRatioInput = document.getElementById('customRatioInput');
            const customWidth = document.getElementById('customWidth');
            const customHeight = document.getElementById('customHeight');
            const presetBtns = document.querySelectorAll('.preset-btn');
            const historyList = document.getElementById('historyList');
            
            // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
            const INCH_TO_CM = 2.54;
            const DEFAULT_RATIO = '16:9';
            
            // –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            let currentRatio = DEFAULT_RATIO;
            let calculationHistory = [];
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            init();
            
            function init() {
                // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–æ–≤
                setupModeSwitching();
                
                // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Å—Ç–æ–≥–æ —Ä–µ–∂–∏–º–∞
                setupSimpleMode();
                
                // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
                setupProMode();
                
                // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç
                calculateSimple();
                calculatePro();
            }
            
            function setupModeSwitching() {
                simpleModeBtn.addEventListener('click', function() {
                    simpleModeBtn.classList.add('active');
                    proModeBtn.classList.remove('active');
                    simpleMode.style.display = 'block';
                    proMode.style.display = 'none';
                });
                
                proModeBtn.addEventListener('click', function() {
                    proModeBtn.classList.add('active');
                    simpleModeBtn.classList.remove('active');
                    proMode.style.display = 'block';
                    simpleMode.style.display = 'none';
                });
            }
            
            function setupSimpleMode() {
                simpleCalculateBtn.addEventListener('click', calculateSimple);
                simpleDiagonal.addEventListener('input', calculateSimple);
                simpleDiagonal.addEventListener('keyup', function(e) {
                    if (e.key === 'Enter') calculateSimple();
                });
            }
            
            function setupProMode() {
                // –û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
                proCalculateBtn.addEventListener('click', calculatePro);
                proDiagonal.addEventListener('input', function() {
                    diagonalSlider.value = proDiagonal.value;
                    calculatePro();
                });
                
                // –°–ª–∞–π–¥–µ—Ä
                diagonalSlider.addEventListener('input', function() {
                    proDiagonal.value = this.value;
                    calculatePro();
                });
                
                // –í—ã–±–æ—Ä —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω
                ratioOptions.forEach(option => {
                    option.addEventListener('click', function() {
                        ratioOptions.forEach(o => o.classList.remove('active'));
                        this.classList.add('active');
                        
                        const ratio = this.getAttribute('data-ratio');
                        currentRatio = ratio;
                        
                        if (ratio === 'custom') {
                            customRatioInput.style.display = 'block';
                        } else {
                            customRatioInput.style.display = 'none';
                            calculatePro();
                        }
                    });
                });
                
                // –ö–∞—Å—Ç–æ–º–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ
                customWidth.addEventListener('input', function() {
                    currentRatio = `${this.value}:${customHeight.value}`;
                    calculatePro();
                });
                
                customHeight.addEventListener('input', function() {
                    currentRatio = `${customWidth.value}:${this.value}`;
                    calculatePro();
                });
                
                // –ü—Ä–µ—Å–µ—Ç—ã
                presetBtns.forEach(btn => {
                    btn.addEventListener('click', function() {
                        const size = this.getAttribute('data-size');
                        proDiagonal.value = size;
                        diagonalSlider.value = size;
                        calculatePro();
                    });
                });
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
                proDiagonal.addEventListener('change', calculatePro);
            }
            
            // –†–ê–°–ß–Å–¢ –î–õ–Ø –ü–†–û–°–¢–û–ì–û –†–ï–ñ–ò–ú–ê
            function calculateSimple() {
                const diagonalInches = parseFloat(simpleDiagonal.value) || 0;
                
                if (diagonalInches <= 0) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∏–∞–≥–æ–Ω–∞–ª–∏');
                    return;
                }
                
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ 16:9
                const aspectRatioWidth = 16;
                const aspectRatioHeight = 9;
                const diagonalCm = diagonalInches * INCH_TO_CM;
                const aspectRatioDiagonal = Math.sqrt(aspectRatioWidth**2 + aspectRatioHeight**2);
                
                const widthCm = diagonalCm / aspectRatioDiagonal * aspectRatioWidth;
                const heightCm = diagonalCm / aspectRatioDiagonal * aspectRatioHeight;
                
                // –û–∫—Ä—É–≥–ª—è–µ–º –≤–≤–µ—Ä—Ö
                const roundedWidth = Math.ceil(widthCm);
                const roundedHeight = Math.ceil(heightCm);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                simpleWidthValue.textContent = roundedWidth;
                simpleHeightValue.textContent = roundedHeight;
            }
            
            // –†–ê–°–ß–Å–¢ –î–õ–Ø –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–û–ì–û –†–ï–ñ–ò–ú–ê
            function calculatePro() {
                const diagonalInches = parseFloat(proDiagonal.value) || 0;
                
                if (diagonalInches <= 0) {
                    return;
                }
                
                // –ü–æ–ª—É—á–∞–µ–º —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω
                let ratioWidth, ratioHeight;
                
                if (currentRatio === 'custom') {
                    ratioWidth = parseFloat(customWidth.value) || 16;
                    ratioHeight = parseFloat(customHeight.value) || 9;
                } else {
                    [ratioWidth, ratioHeight] = currentRatio.split(':').map(Number);
                }
                
                // –û—Å–Ω–æ–≤–Ω–æ–π —Ä–∞—Å—á—ë—Ç
                const diagonalCm = diagonalInches * INCH_TO_CM;
                const aspectRatioDiagonal = Math.sqrt(ratioWidth**2 + ratioHeight**2);
                
                const widthCm = diagonalCm / aspectRatioDiagonal * ratioWidth;
                const heightCm = diagonalCm / aspectRatioDiagonal * ratioHeight;
                const areaCm = widthCm * heightCm;
                const ratioDecimal = ratioWidth / ratioHeight;
                
                // –û–∫—Ä—É–≥–ª—è–µ–º
                const roundedWidth = Math.ceil(widthCm);
                const roundedHeight = Math.ceil(heightCm);
                const roundedArea = Math.ceil(areaCm);
                const roundedRatio = parseFloat(ratioDecimal.toFixed(2));
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                proWidthValue.textContent = roundedWidth;
                proHeightValue.textContent = roundedHeight;
                proAreaValue.textContent = roundedArea;
                proRatioValue.textContent = roundedRatio;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
                updateVisualization(diagonalInches, roundedWidth, roundedHeight);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                addToHistory(diagonalInches, currentRatio, roundedWidth, roundedHeight);
            }
            
            function updateVisualization(diagonalInches, width, height) {
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç
                screenSize.textContent = `${diagonalInches}"`;
                screenDimensions.textContent = `${width} √ó ${height} —Å–º`;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–∞–∑–º–µ—Ä—ã —ç–∫—Ä–∞–Ω–∞ (–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏)
                const maxSize = 250;
                const scale = Math.min(maxSize / Math.max(width, height), 1);
                const visWidth = width * scale * 0.3; // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–ª—è –ª—É—á—à–µ–≥–æ –≤–∏–¥–∞
                const visHeight = height * scale * 0.3;
                
                screenBox.style.width = `${visWidth}px`;
                screenBox.style.height = `${visHeight}px`;
            }
            
            function addToHistory(diagonal, ratio, width, height) {
                const historyItem = {
                    id: Date.now(),
                    diagonal: diagonal,
                    ratio: ratio,
                    width: width,
                    height: height,
                    time: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})
                };
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—á–∞–ª–æ –º–∞—Å—Å–∏–≤–∞
                calculationHistory.unshift(historyItem);
                
                // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º 5 –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ –∑–∞–ø–∏—Å—è–º–∏
                if (calculationHistory.length > 5) {
                    calculationHistory = calculationHistory.slice(0, 5);
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                updateHistoryDisplay();
            }
            
            function updateHistoryDisplay() {
                historyList.innerHTML = '';
                
                calculationHistory.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'history-item';
                    div.innerHTML = `
                        <div>${item.diagonal}" (${item.ratio})</div>
                        <div>${item.width} √ó ${item.height} —Å–º</div>
                    `;
                    historyList.appendChild(div);
                });
            }
        });
    </script>
</body>
</html>
